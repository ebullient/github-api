<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>GHBranchProtection.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">GitHub API for Java</a> &gt; <a href="index.source.html" class="el_package">org.kohsuke.github</a> &gt; <span class="el_source">GHBranchProtection.java</span></div><h1>GHBranchProtection.java</h1><pre class="source lang-java linenums">package org.kohsuke.github;

import com.fasterxml.jackson.annotation.JsonInclude;
import com.fasterxml.jackson.annotation.JsonProperty;
import edu.umd.cs.findbugs.annotations.SuppressFBWarnings;

import java.io.IOException;
import java.util.Collection;
import java.util.Collections;

// TODO: Auto-generated Javadoc
/**
 * The type GHBranchProtection.
 *
 * @see &lt;a href=&quot;https://docs.github.com/en/rest/reference/repos#get-branch-protection&quot;&gt;GitHub Branch Protection&lt;/a&gt;
 */
@SuppressFBWarnings(
        value = { &quot;UWF_UNWRITTEN_PUBLIC_OR_PROTECTED_FIELD&quot;, &quot;UWF_UNWRITTEN_FIELD&quot;, &quot;NP_UNWRITTEN_FIELD&quot;,
                &quot;URF_UNREAD_FIELD&quot; },
        justification = &quot;JSON API&quot;)
public class GHBranchProtection extends GitHubInteractiveObject {

    /**
     * Create default GHBranchProtection instance
     */
<span class="fc" id="L26">    public GHBranchProtection() {</span>
<span class="fc" id="L27">    }</span>

    private static final String REQUIRE_SIGNATURES_URI = &quot;/required_signatures&quot;;

    @JsonProperty
    private AllowDeletions allowDeletions;

    @JsonProperty
    private AllowForcePushes allowForcePushes;

    @JsonProperty
    private AllowForkSyncing allowForkSyncing;

    @JsonProperty
    private BlockCreations blockCreations;

    @JsonProperty
    private EnforceAdmins enforceAdmins;

    @JsonProperty
    private LockBranch lockBranch;

    @JsonProperty
    private RequiredConversationResolution requiredConversationResolution;

    @JsonProperty
    private RequiredLinearHistory requiredLinearHistory;

    @JsonProperty(&quot;required_pull_request_reviews&quot;)
    private RequiredReviews requiredReviews;

    @JsonProperty
    private RequiredStatusChecks requiredStatusChecks;

    @JsonProperty
    private Restrictions restrictions;

    @JsonProperty
    private String url;

    /**
     * Enabled signed commits.
     *
     * @throws IOException
     *             the io exception
     */
    public void enabledSignedCommits() throws IOException {
<span class="fc" id="L74">        requester().method(&quot;POST&quot;).withUrlPath(url + REQUIRE_SIGNATURES_URI).fetch(RequiredSignatures.class);</span>
<span class="fc" id="L75">    }</span>

    /**
     * Disable signed commits.
     *
     * @throws IOException
     *             the io exception
     */
    public void disableSignedCommits() throws IOException {
<span class="fc" id="L84">        requester().method(&quot;DELETE&quot;).withUrlPath(url + REQUIRE_SIGNATURES_URI).send();</span>
<span class="fc" id="L85">    }</span>

    /**
     * Gets allow deletions.
     *
     * @return the enforce admins
     */
    public AllowDeletions getAllowDeletions() {
<span class="fc" id="L93">        return allowDeletions;</span>
    }

    /**
     * Gets allow force pushes.
     *
     * @return the enforce admins
     */
    public AllowForcePushes getAllowForcePushes() {
<span class="fc" id="L102">        return allowForcePushes;</span>
    }

    /**
     * Gets allow fork syncing.
     *
     * @return the enforce admins
     */
    public AllowForkSyncing getAllowForkSyncing() {
<span class="fc" id="L111">        return allowForkSyncing;</span>
    }

    /**
     * Gets block creations.
     *
     * @return the enforce admins
     */
    public BlockCreations getBlockCreations() {
<span class="fc" id="L120">        return blockCreations;</span>
    }

    /**
     * Gets enforce admins.
     *
     * @return the enforce admins
     */
    public EnforceAdmins getEnforceAdmins() {
<span class="fc" id="L129">        return enforceAdmins;</span>
    }

    /**
     * Gets lock branch.
     *
     * @return the enforce admins
     */
    public LockBranch getLockBranch() {
<span class="fc" id="L138">        return lockBranch;</span>
    }

    /**
     * Gets required conversation resolution.
     *
     * @return the enforce admins
     */
    public RequiredConversationResolution getRequiredConversationResolution() {
<span class="fc" id="L147">        return requiredConversationResolution;</span>
    }

    /**
     * Gets required linear history.
     *
     * @return the enforce admins
     */
    public RequiredLinearHistory getRequiredLinearHistory() {
<span class="fc" id="L156">        return requiredLinearHistory;</span>
    }

    /**
     * Gets required reviews.
     *
     * @return the required reviews
     */
    public RequiredReviews getRequiredReviews() {
<span class="fc" id="L165">        return requiredReviews;</span>
    }

    /**
     * Gets required signatures.
     *
     * @return the required signatures
     * @throws IOException
     *             the io exception
     */
    public boolean getRequiredSignatures() throws IOException {
<span class="fc" id="L176">        return requester().withUrlPath(url + REQUIRE_SIGNATURES_URI).fetch(RequiredSignatures.class).enabled;</span>
    }

    /**
     * Gets required status checks.
     *
     * @return the required status checks
     */
    public RequiredStatusChecks getRequiredStatusChecks() {
<span class="fc" id="L185">        return requiredStatusChecks;</span>
    }

    /**
     * Gets restrictions.
     *
     * @return the restrictions
     */
    public Restrictions getRestrictions() {
<span class="nc" id="L194">        return restrictions;</span>
    }

    /**
     * Gets url.
     *
     * @return the url
     */
    public String getUrl() {
<span class="nc" id="L203">        return url;</span>
    }

    private Requester requester() {
<span class="fc" id="L207">        return root().createRequest();</span>
    }

    /**
     * The type AllowDeletions.
     */
    public static class AllowDeletions {

        /**
         * Create default AllowDeletions instance
         */
<span class="fc" id="L218">        public AllowDeletions() {</span>
<span class="fc" id="L219">        }</span>

        @JsonProperty
        private boolean enabled;

        /**
         * Is enabled boolean.
         *
         * @return the boolean
         */
        public boolean isEnabled() {
<span class="fc" id="L230">            return enabled;</span>
        }
    }

    /**
     * The type Check.
     */
    public static class Check {
        private String context;

        @JsonInclude(JsonInclude.Include.NON_NULL)
        private Integer appId;

        /**
         * no-arg constructor for the serializer
         */
<span class="fc" id="L246">        public Check() {</span>
<span class="fc" id="L247">        }</span>

        /**
         * Regular constructor for use in user business logic
         *
         * @param context
         *            the context string of the check
         * @param appId
         *            the application ID the check is supposed to come from. Pass &quot;-1&quot; to explicitly allow any app to
         *            set the status. Pass &quot;null&quot; to automatically select the GitHub App that has recently provided this
         *            check.
         */
<span class="fc" id="L259">        public Check(String context, Integer appId) {</span>
<span class="fc" id="L260">            this.context = context;</span>
<span class="fc" id="L261">            this.appId = appId;</span>
<span class="fc" id="L262">        }</span>

        /**
         * The context string of the check
         *
         * @return the string
         */
        public String getContext() {
<span class="fc" id="L270">            return context;</span>
        }

        /**
         * The application ID the check is supposed to come from. The value &quot;-1&quot; indicates &quot;any source&quot;.
         *
         * @return the integer
         */
        public Integer getAppId() {
<span class="fc" id="L279">            return appId;</span>
        }
    }

    /**
     * The type AllowForcePushes.
     */
    public static class AllowForcePushes {

        /**
         * Create default AllowForcePushes instance
         */
<span class="fc" id="L291">        public AllowForcePushes() {</span>
<span class="fc" id="L292">        }</span>

        @JsonProperty
        private boolean enabled;

        /**
         * Is enabled boolean.
         *
         * @return the boolean
         */
        public boolean isEnabled() {
<span class="fc" id="L303">            return enabled;</span>
        }
    }

    /**
     * The type AllowForkSyncing.
     */
    public static class AllowForkSyncing {

        /**
         * Create default AllowForkSyncing instance
         */
<span class="fc" id="L315">        public AllowForkSyncing() {</span>
<span class="fc" id="L316">        }</span>

        @JsonProperty
        private boolean enabled;

        /**
         * Is enabled boolean.
         *
         * @return the boolean
         */
        public boolean isEnabled() {
<span class="fc" id="L327">            return enabled;</span>
        }
    }

    /**
     * The type BlockCreations.
     */
    public static class BlockCreations {

        /**
         * Create default BlockCreations instance
         */
<span class="fc" id="L339">        public BlockCreations() {</span>
<span class="fc" id="L340">        }</span>

        @JsonProperty
        private boolean enabled;

        /**
         * Is enabled boolean.
         *
         * @return the boolean
         */
        public boolean isEnabled() {
<span class="fc" id="L351">            return enabled;</span>
        }
    }

    /**
     * The type EnforceAdmins.
     */
    public static class EnforceAdmins {

        /**
         * Create default EnforceAdmins instance
         */
<span class="fc" id="L363">        public EnforceAdmins() {</span>
<span class="fc" id="L364">        }</span>

        @JsonProperty
        private boolean enabled;

        @JsonProperty
        private String url;

        /**
         * Gets url.
         *
         * @return the url
         */
        public String getUrl() {
<span class="nc" id="L378">            return url;</span>
        }

        /**
         * Is enabled boolean.
         *
         * @return the boolean
         */
        public boolean isEnabled() {
<span class="fc" id="L387">            return enabled;</span>
        }
    }

    /**
     * The type LockBranch.
     */
    public static class LockBranch {

        /**
         * Create default LockBranch instance
         */
<span class="fc" id="L399">        public LockBranch() {</span>
<span class="fc" id="L400">        }</span>

        @JsonProperty
        private boolean enabled;

        /**
         * Is enabled boolean.
         *
         * @return the boolean
         */
        public boolean isEnabled() {
<span class="fc" id="L411">            return enabled;</span>
        }
    }

    /**
     * The type RequiredConversationResolution.
     */
    public static class RequiredConversationResolution {

        /**
         * Create default RequiredConversationResolution instance
         */
<span class="fc" id="L423">        public RequiredConversationResolution() {</span>
<span class="fc" id="L424">        }</span>

        @JsonProperty
        private boolean enabled;

        /**
         * Is enabled boolean.
         *
         * @return the boolean
         */
        public boolean isEnabled() {
<span class="fc" id="L435">            return enabled;</span>
        }
    }

    /**
     * The type RequiredLinearHistory.
     */
    public static class RequiredLinearHistory {

        /**
         * Create default RequiredLinearHistory instance
         */
<span class="fc" id="L447">        public RequiredLinearHistory() {</span>
<span class="fc" id="L448">        }</span>

        @JsonProperty
        private boolean enabled;

        /**
         * Is enabled boolean.
         *
         * @return the boolean
         */
        public boolean isEnabled() {
<span class="fc" id="L459">            return enabled;</span>
        }
    }

    /**
     * The type RequiredReviews.
     */
    public static class RequiredReviews {

        /**
         * Create default RequiredReviews instance
         */
<span class="fc" id="L471">        public RequiredReviews() {</span>
<span class="fc" id="L472">        }</span>

        @JsonProperty(&quot;dismissal_restrictions&quot;)
        private Restrictions dismissalRestriction;

        @JsonProperty
        private boolean dismissStaleReviews;

        @JsonProperty
        private boolean requireCodeOwnerReviews;

        @JsonProperty
        private boolean requireLastPushApproval;

        @JsonProperty(&quot;required_approving_review_count&quot;)
        private int requiredReviewers;

        @JsonProperty
        private String url;

        /**
         * Gets dismissal restrictions.
         *
         * @return the dismissal restrictions
         */
        public Restrictions getDismissalRestrictions() {
<span class="nc" id="L498">            return dismissalRestriction;</span>
        }

        /**
         * Gets url.
         *
         * @return the url
         */
        public String getUrl() {
<span class="nc" id="L507">            return url;</span>
        }

        /**
         * Is dismiss stale reviews boolean.
         *
         * @return the boolean
         */
        public boolean isDismissStaleReviews() {
<span class="fc" id="L516">            return dismissStaleReviews;</span>
        }

        /**
         * Is require code owner reviews boolean.
         *
         * @return the boolean
         */
        public boolean isRequireCodeOwnerReviews() {
<span class="fc" id="L525">            return requireCodeOwnerReviews;</span>
        }

        /**
         * Is require last push approval boolean.
         *
         * @return the boolean
         */
        public boolean isRequireLastPushApproval() {
<span class="fc" id="L534">            return requireLastPushApproval;</span>
        }

        /**
         * Gets required reviewers.
         *
         * @return the required reviewers
         */
        public int getRequiredReviewers() {
<span class="fc" id="L543">            return requiredReviewers;</span>
        }
    }

    private static class RequiredSignatures {
        @JsonProperty
        private boolean enabled;

        @JsonProperty
        private String url;

        /**
         * Gets url.
         *
         * @return the url
         */
        public String getUrl() {
<span class="nc" id="L560">            return url;</span>
        }

        /**
         * Is enabled boolean.
         *
         * @return the boolean
         */
        public boolean isEnabled() {
<span class="nc" id="L569">            return enabled;</span>
        }
    }

    /**
     * The type RequiredStatusChecks.
     */
    public static class RequiredStatusChecks {

        /**
         * Create default RequiredStatusChecks instance
         */
<span class="fc" id="L581">        public RequiredStatusChecks() {</span>
<span class="fc" id="L582">        }</span>

        @JsonProperty
        private Collection&lt;String&gt; contexts;

        @JsonProperty
        private Collection&lt;Check&gt; checks;

        @JsonProperty
        private boolean strict;

        @JsonProperty
        private String url;

        /**
         * Gets contexts.
         *
         * @return the contexts
         */
        public Collection&lt;String&gt; getContexts() {
<span class="fc" id="L602">            return Collections.unmodifiableCollection(contexts);</span>
        }

        /**
         * Gets checks.
         *
         * @return the checks
         */
        public Collection&lt;Check&gt; getChecks() {
<span class="fc" id="L611">            return Collections.unmodifiableCollection(checks);</span>
        }

        /**
         * Gets url.
         *
         * @return the url
         */
        public String getUrl() {
<span class="nc" id="L620">            return url;</span>
        }

        /**
         * Is requires branch up to date boolean.
         *
         * @return the boolean
         */
        public boolean isRequiresBranchUpToDate() {
<span class="fc" id="L629">            return strict;</span>
        }
    }

    /**
     * The type Restrictions.
     */
    public static class Restrictions {

        /**
         * Create default Restrictions instance
         */
<span class="nc" id="L641">        public Restrictions() {</span>
<span class="nc" id="L642">        }</span>

        @JsonProperty
        private Collection&lt;GHTeam&gt; teams;

        private String teamsUrl;

        @JsonProperty
        private String url;

        @JsonProperty
        private Collection&lt;GHUser&gt; users;

        private String usersUrl;

        /**
         * Gets teams.
         *
         * @return the teams
         */
        public Collection&lt;GHTeam&gt; getTeams() {
<span class="nc" id="L663">            return Collections.unmodifiableCollection(teams);</span>
        }

        /**
         * Gets teams url.
         *
         * @return the teams url
         */
        public String getTeamsUrl() {
<span class="nc" id="L672">            return teamsUrl;</span>
        }

        /**
         * Gets url.
         *
         * @return the url
         */
        public String getUrl() {
<span class="nc" id="L681">            return url;</span>
        }

        /**
         * Gets users.
         *
         * @return the users
         */
        public Collection&lt;GHUser&gt; getUsers() {
<span class="nc" id="L690">            return Collections.unmodifiableCollection(users);</span>
        }

        /**
         * Gets users url.
         *
         * @return the users url
         */
        public String getUsersUrl() {
<span class="nc" id="L699">            return usersUrl;</span>
        }
    }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.12.202403310830</span></div></body></html>